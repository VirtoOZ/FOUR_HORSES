(()=>{"use strict";!function(){let t=[],e=document.querySelectorAll("[data-da]"),n=[],o=[];if(e.length>0){let l=0;for(let o=0;o<e.length;o++){const r=e[o],c=r.getAttribute("data-da");if(""!=c){const e=c.split(","),o=e[1]?e[1].trim():"last",a=e[2]?e[2].trim():"767",d="min"===e[3]?e[3].trim():"max",u=document.querySelector("."+e[0].trim());e.length>0&&u&&(r.setAttribute("data-da-index",l),t[l]={parent:r.parentNode,index:(i=r,s=void 0,s=Array.prototype.slice.call(i.parentNode.children),s.indexOf(i))},n[l]={element:r,destination:document.querySelector("."+e[0].trim()),place:o,breakpoint:a,type:d},l++)}}(r=n).sort((function(t,e){return t.breakpoint>e.breakpoint?-1:1})),r.sort((function(t,e){return t.place>e.place?1:-1}));for(let t=0;t<n.length;t++){const e=n[t],r=e.breakpoint,i=e.type;o.push(window.matchMedia("("+i+"-width: "+r+"px)")),o[t].addListener(c)}}var r,i,s;function c(t){for(let t=0;t<n.length;t++){const e=n[t],r=e.element,i=e.destination,s=e.place,c="_dynamic_adapt_"+e.breakpoint;if(o[t].matches){if(!r.classList.contains(c)){let t=a(i)[s];"first"===s?t=a(i)[0]:"last"===s&&(t=a(i)[a(i).length]),i.insertBefore(r,i.children[t]),r.classList.add(c)}}else r.classList.contains(c)&&(l(r),r.classList.remove(c))}}function l(e){const n=e.getAttribute("data-da-index"),o=t[n],r=o.parent,i=o.index,s=a(r,!0)[i];r.insertBefore(e,r.children[s])}function a(t,e){const n=t.children,o=[];for(let t=0;t<n.length;t++){const r=n[t];(e||null==r.getAttribute("data-da"))&&o.push(t)}return o}c()}(),function(){let t=new Image;t.onload=t.onerror=function(){!function(t){let e=!0===t?"webp":"no-webp";document.documentElement.classList.add(e)}(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}(),window.onload=function(){document.addEventListener("click",(function(n){const i=n.target;i.classList.contains("controls-stages__arrow-right")&&A(o,r,r,t,e),i.classList.contains("controls-stages__arrow-left")&&L(o,r,r,t,e),i.classList.contains("controls-participants__arrow-right")&&A(h,w,u,a,d),i.classList.contains("controls-participants__arrow-left")&&L(h,w,u,a,d)})),function(){let t=document.querySelectorAll("._ibg");for(let e=0;e<t.length;e++){let n=t[e].querySelector("img"),o=t[e].querySelector('[type="image/webp"]');n&&(document.documentElement.classList.contains("webp")&&o?t[e].style.backgroundImage="url("+o.getAttribute("srcset")+")":t[e].style.backgroundImage="url("+n.getAttribute("src")+")",t[e].style.backgroundPosition="0 0",t[e].style.backgroundSize="cover",n.style.opacity="0",n.style.visibility="hidden")}}();let t=document.querySelector(".stages__slider"),e=document.querySelector(".stages__items"),n=e.children,o=0,r=n.length,i=document.querySelector(".controls-stages__pagination"),s=document.querySelector(".controls-stages__arrow-right"),c=document.querySelector(".controls-stages__arrow-left");function l(t){let e=document.querySelectorAll(".controls-stages__dott");for(let n=0;n<e.length;n++){const o=e[n];o.classList.remove("_active"),n==t&&o.classList.add("_active")}}!function(){if(r>0)for(let t=0;t<r;t++)i[t]=i.insertAdjacentHTML("beforeend",'<div class="controls-stages__dott"></div>')}(),l(o);let a=document.querySelector(".participants__body"),d=document.querySelector(".participants__row"),u=document.querySelectorAll(".participants__column").length,m=document.querySelector(".controls-participants__pagination-current"),f=document.querySelector(".controls-participants__pagination-total>span"),g=document.querySelector(".controls-participants__arrow-right"),p=document.querySelector(".controls-participants__arrow-left"),_=0;_=window.innerWidth<640?_=1:window.innerWidth>640&&window.innerWidth<991?_=2:window.innerWidth>992?_=3:"";let w=Math.ceil(u/_),h=0;function y(e,n,o){0==n&&(s.classList.add("arrow-right_black"),c.classList.remove("arrow-left_black")),n>0&&n<o&&(c.classList.add("arrow-left_black"),s.classList.add("arrow-right_black")),e==t&&n==o-1&&s.classList.remove("arrow-right_black"),e==t&&1==o&&(s.classList.remove("arrow-right_black"),c.classList.remove("arrow-left_black")),e==a&&1==o&&(g.classList.remove("arrow-right_black"),p.classList.remove("arrow-left_black"))}function b(t,e,n,o){o==a&&(f.innerHTML=n,e>1&&t<e-1&&(m.innerHTML=t*_+_),t==e-1&&(m.innerHTML=n))}function A(e,n,o,r,i){e>=0&&e<n&&b(++e,n,o,r),e==n&&(b(++e,n,o,r),r==t&&(e=n-1)),e>n&&b(e=0,n,o,r),S(e,r,i)}function L(e,n,o,r,i){e>=0&&e<=n&&(r==t&&0==e&&(e=1),--e<=-1?(e=n-1,m.innerHTML=o):b(e,n,o,r)),S(e,r,i)}function S(e,n,i){let s=n.offsetWidth+20;i.style.transform=`translateX(${-e*s}px)`,n==a?h=e:n==t&&(o=e),n==a&&(h=e),n==t&&(o=e,l(o),y(t,e,r))}t&&y(t,o,r),a&&y(a,h,w),b(h,w,u,a),setInterval((()=>{A(h,w,u,a,d)}),4e3);const q=document.querySelector(".main");if(q){document.querySelector(".main-content");const x=document.querySelector(".main-wrapper__sun"),H=document.querySelector(".main-wrapper__city"),T=document.querySelector(".main-wrapper__chess-behind"),W=document.querySelector(".main-wrapper__chess-front"),E=3,I=50,$=20,M=50,B=.05;let C=0,O=0,X=0,Y=0;function j(){C+=(X-C)*B,O+=(Y-O)*B,x.style.cssText=`transform: translate(${C/E}%,${O/E}%);`,H.style.cssText+=`transform: translate(${C/I}%,${O/I}%);`,T.style.cssText+=`transform: translate(${C/$}%,${O/$}%);`,W.style.cssText+=`transform: translate(${C/M}%,${O/M}%);`,requestAnimationFrame(j)}j(),q.addEventListener("mousemove",(function(t){const e=q.offsetWidth,n=q.offsetHeight,o=t.pageX-e/2,r=t.pageY-n/2;X=o/e*100,Y=r/n*100}))}const v=document.querySelectorAll("._anim-items");if(v.length>0){function N(){for(let t=0;t<v.length;t++){const e=v[t],n=e.offsetHeight,o=P(e).top,r=4;let i=window.innerHeight-n/r;n>window.innerHeight&&(i=window.innerHeight-window.innerHeight/r),pageYOffset>o-i&&pageYOffset<o+n?e.classList.add("_active"):e.classList.contains("_anim-no-hide")||e.classList.remove("_active")}}function P(t){const e=t.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,o=window.pageYOffset||document.documentElement.scrollTop;return{top:e.top+o,left:e.left+n}}window.addEventListener("scroll",N),setTimeout((()=>{N()}),300)}const k=document.querySelectorAll(".running-line");k.length>0&&function(t){for(let e=0;e<t.length;e++){const n=t[e];let o=n.querySelector(".running-line__body"),r=n.querySelectorAll("p"),i=0;for(let a=0;a<r.length;a++){let d=r[a];i=d.clientWidth;let u=0;const m=document.documentElement.clientWidth;for(let f=0;u<m;f++){let g=d.cloneNode(!0);o.insertAdjacentElement("beforeend",g),u+=i}}let s=1,c=3;function l(){s-=c,s<=-1*i&&(s=0),o.style.transform="translateX("+s+"px)",window.requestAnimationFrame(l)}l()}}(k)}})();