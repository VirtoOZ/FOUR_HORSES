(()=>{"use strict";!function(){let t=[],e=document.querySelectorAll("[data-da]"),n=[],o=[];if(e.length>0){let a=0;for(let o=0;o<e.length;o++){const r=e[o],c=r.getAttribute("data-da");if(""!=c){const e=c.split(","),o=e[1]?e[1].trim():"last",l=e[2]?e[2].trim():"767",d="min"===e[3]?e[3].trim():"max",u=document.querySelector("."+e[0].trim());e.length>0&&u&&(r.setAttribute("data-da-index",a),t[a]={parent:r.parentNode,index:(i=r,s=void 0,s=Array.prototype.slice.call(i.parentNode.children),s.indexOf(i))},n[a]={element:r,destination:document.querySelector("."+e[0].trim()),place:o,breakpoint:l,type:d},a++)}}(r=n).sort((function(t,e){return t.breakpoint>e.breakpoint?-1:1})),r.sort((function(t,e){return t.place>e.place?1:-1}));for(let t=0;t<n.length;t++){const e=n[t],r=e.breakpoint,i=e.type;o.push(window.matchMedia("("+i+"-width: "+r+"px)")),o[t].addListener(c)}}var r,i,s;function c(t){for(let t=0;t<n.length;t++){const e=n[t],r=e.element,i=e.destination,s=e.place,c="_dynamic_adapt_"+e.breakpoint;if(o[t].matches){if(!r.classList.contains(c)){let t=l(i)[s];"first"===s?t=l(i)[0]:"last"===s&&(t=l(i)[l(i).length]),i.insertBefore(r,i.children[t]),r.classList.add(c)}}else r.classList.contains(c)&&(a(r),r.classList.remove(c))}}function a(e){const n=e.getAttribute("data-da-index"),o=t[n],r=o.parent,i=o.index,s=l(r,!0)[i];r.insertBefore(e,r.children[s])}function l(t,e){const n=t.children,o=[];for(let t=0;t<n.length;t++){const r=n[t];(e||null==r.getAttribute("data-da"))&&o.push(t)}return o}c()}(),function(t){let e=new Image;e.onload=e.onerror=function(){!function(t){let e=!0===t?"webp":"no-webp";document.documentElement.classList.add(e)}(2==e.height)},e.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}(),window.onload=function(){let t,e;function n(){t=document.documentElement.clientWidth,t<640?e=1:t>640&&t<991?e=2:t>992&&(e=3)}n(),window.addEventListener("resize",n),document.addEventListener("click",(function(t){const e=t.target;e.classList.contains("controls-stages__arrow-right")&&S(s,c,c,o,r),e.classList.contains("controls-stages__arrow-left")&&q(s,c,c,o,r),e.classList.contains("controls-participants__arrow-right")&&S(b,y,g,m,f),e.classList.contains("controls-participants__arrow-left")&&q(b,y,g,m,f)})),function(){let t=document.querySelectorAll("._ibg");for(let e=0;e<t.length;e++){let n=t[e].querySelector("img"),o=t[e].querySelector('[type="image/webp"]');n&&(document.documentElement.classList.contains("webp")&&o?t[e].style.backgroundImage="url("+o.getAttribute("srcset")+")":t[e].style.backgroundImage="url("+n.getAttribute("src")+")",t[e].style.backgroundPosition="0 0",t[e].style.backgroundSize="cover",n.style.opacity="0",n.style.visibility="hidden")}}();let o=document.querySelector(".stages__slider"),r=document.querySelector(".stages__items"),i=r.children,s=0,c=i.length,a=document.querySelector(".controls-stages__pagination"),l=document.querySelector(".controls-stages__arrow-right"),d=document.querySelector(".controls-stages__arrow-left");function u(t){let e=document.querySelectorAll(".controls-stages__dott");for(let n=0;n<e.length;n++){const o=e[n];o.classList.remove("_active"),n==t&&o.classList.add("_active")}}!function(){if(c>0)for(let t=0;t<c;t++)a[t]=a.insertAdjacentHTML("beforeend",'<div class="controls-stages__dott"></div>')}(),u(s);let m=document.querySelector(".participants__body"),f=document.querySelector(".participants__row"),g=document.querySelectorAll(".participants__column").length,p=document.querySelector(".controls-participants__pagination-current"),_=document.querySelector(".controls-participants__pagination-total>span"),h=document.querySelector(".controls-participants__arrow-right"),w=document.querySelector(".controls-participants__arrow-left"),y=Math.ceil(g/e),b=0;function L(t,e,n){0==e&&(l.classList.add("arrow-right_black"),d.classList.remove("arrow-left_black")),e>0&&e<n&&(d.classList.add("arrow-left_black"),l.classList.add("arrow-right_black")),t==o&&e==n-1&&l.classList.remove("arrow-right_black"),t==o&&1==n&&(l.classList.remove("arrow-right_black"),d.classList.remove("arrow-left_black")),t==m&&1==n&&(h.classList.remove("arrow-right_black"),w.classList.remove("arrow-left_black"))}function A(t,n,o,r){r==m&&(_.innerHTML=o,n>1&&t<n-1&&(p.innerHTML=t*e+e),t==n-1&&(p.innerHTML=o))}function S(t,e,n,r,i){t>=0&&t<e&&A(++t,e,n,r),t==e&&(A(++t,e,n,r),r==o&&(t=e-1)),t>e&&A(t=0,e,n,r),v(t,r,i)}function q(t,e,n,r,i){t>=0&&t<=e&&(r==o&&0==t&&(t=1),--t<=-1?(t=e-1,p.innerHTML=n):A(t,e,n,r)),v(t,r,i)}function v(t,e,n){let r=e.offsetWidth+20;n.style.transform=`translate3d(${-t*r}px, 0, 0)`,e==m?b=t:e==o&&(s=t),e==m&&(b=t),e==o&&(s=t,u(s),L(o,t,c))}o&&L(o,s,c),m&&L(m,b,y),A(b,y,g,m),setInterval((()=>{S(b,y,g,m,f)}),4e3);const k=document.querySelector(".main");if(k){document.querySelector(".main-content");const H=document.querySelector(".main-wrapper__sun"),T=document.querySelector(".main-wrapper__city"),I=document.querySelector(".main-wrapper__chess-behind"),$=document.querySelector(".main-wrapper__chess-front"),M=3,B=50,C=20,W=50,O=.05;let Y=0,j=0,N=0,P=0;function R(){Y+=(N-Y)*O,j+=(P-j)*O,H.style.cssText=`transform: translate(${Y/M}%,${j/M}%);`,T.style.cssText+=`transform: translate(${Y/B}%,${j/B}%);`,I.style.cssText+=`transform: translate(${Y/C}%,${j/C}%);`,$.style.cssText+=`transform: translate(${Y/W}%,${j/W}%);`,requestAnimationFrame(R)}R(),k.addEventListener("mousemove",(function(t){const e=k.offsetWidth,n=k.offsetHeight,o=t.pageX-e/2,r=t.pageY-n/2;N=o/e*100,P=r/n*100}))}const x=document.querySelectorAll("._anim-items");if(x.length>0){function X(){for(let t=0;t<x.length;t++){const e=x[t],n=e.offsetHeight,o=z(e).top,r=4;let i=window.innerHeight-n/r;n>window.innerHeight&&(i=window.innerHeight-window.innerHeight/r),pageYOffset>o-i&&pageYOffset<o+n?e.classList.add("_active"):e.classList.contains("_anim-no-hide")||e.classList.remove("_active")}}function z(t){const e=t.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,o=window.pageYOffset||document.documentElement.scrollTop;return{top:e.top+o,left:e.left+n}}window.addEventListener("scroll",X),setTimeout((()=>{X()}),300)}const E=document.querySelectorAll(".running-line");if(E.length>0)for(let F=0;F<E.length;F++){let U=E[F];if(U){let G,J,Q=1,V=3,D=0,K=0,Z=U.firstElementChild,tt=Z.children;for(let ot=0;ot<tt.length;ot++)G=tt[ot];function et(){for(let e=0;K<t;e++)J=G.cloneNode(!0),Z.insertAdjacentElement("beforeend",J),K+=D}function nt(){Q-=V,Q<=-1*D&&(Q=0),Z.style.transform="translate3d("+Q+"px, 0, 0)",window.requestAnimationFrame(nt)}(()=>(D=G.clientWidth,D))(),et(),nt()}}}})();