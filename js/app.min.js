(()=>{"use strict";!function(){let t=[],e=document.querySelectorAll("[data-da]"),n=[],r=[];if(e.length>0){let c=0;for(let r=0;r<e.length;r++){const o=e[r],i=o.getAttribute("data-da");if(""!=i){const e=i.split(","),r=e[1]?e[1].trim():"last",l=e[2]?e[2].trim():"767",d="min"===e[3]?e[3].trim():"max",u=document.querySelector("."+e[0].trim());e.length>0&&u&&(o.setAttribute("data-da-index",c),t[c]={parent:o.parentNode,index:(s=o,a=void 0,a=Array.prototype.slice.call(s.parentNode.children),a.indexOf(s))},n[c]={element:o,destination:document.querySelector("."+e[0].trim()),place:r,breakpoint:l,type:d},c++)}}(o=n).sort((function(t,e){return t.breakpoint>e.breakpoint?-1:1})),o.sort((function(t,e){return t.place>e.place?1:-1}));for(let t=0;t<n.length;t++){const e=n[t],o=e.breakpoint,s=e.type;r.push(window.matchMedia("("+s+"-width: "+o+"px)")),r[t].addListener(i)}}var o,s,a;function i(t){for(let t=0;t<n.length;t++){const e=n[t],o=e.element,s=e.destination,a=e.place,i="_dynamic_adapt_"+e.breakpoint;if(r[t].matches){if(!o.classList.contains(i)){let t=l(s)[a];"first"===a?t=l(s)[0]:"last"===a&&(t=l(s)[l(s).length]),s.insertBefore(o,s.children[t]),o.classList.add(i)}}else o.classList.contains(i)&&(c(o),o.classList.remove(i))}}function c(e){const n=e.getAttribute("data-da-index"),r=t[n],o=r.parent,s=r.index,a=l(o,!0)[s];o.insertBefore(e,o.children[a])}function l(t,e){const n=t.children,r=[];for(let t=0;t<n.length;t++){const o=n[t];(e||null==o.getAttribute("data-da"))&&r.push(t)}return r}i()}(),function(){let t=new Image;t.onload=t.onerror=function(){!function(t){let e=!0===t?"webp":"no-webp";document.documentElement.classList.add(e)}(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}(),window.onload=function(){document.addEventListener("click",(function(n){const s=n.target;s.classList.contains("controls-stages__arrow-right")&&A(r,o,o,t,e),s.classList.contains("controls-stages__arrow-left")&&L(r,o,o,t,e),s.classList.contains("controls-participants__arrow-right")&&A(h,y,u,l,d),s.classList.contains("controls-participants__arrow-left")&&L(h,y,u,l,d)})),function(){let t=document.querySelectorAll("._ibg");for(let e=0;e<t.length;e++){let n=t[e].querySelector("img"),r=t[e].querySelector('[type="image/webp"]');n&&(document.documentElement.classList.contains("webp")&&r?t[e].style.backgroundImage="url("+r.getAttribute("srcset")+")":t[e].style.backgroundImage="url("+n.getAttribute("src")+")",t[e].style.backgroundPosition="0 0",t[e].style.backgroundSize="cover",n.style.opacity="0",n.style.visibility="hidden")}}();let t=document.querySelector(".stages__slider"),e=document.querySelector(".stages__items"),n=e.children,r=0,o=n.length,s=document.querySelector(".controls-stages__pagination"),a=document.querySelector(".controls-stages__arrow-right"),i=document.querySelector(".controls-stages__arrow-left");function c(t){let e=document.querySelectorAll(".controls-stages__dott");for(let n=0;n<e.length;n++){const r=e[n];r.classList.remove("_active"),n==t&&r.classList.add("_active")}}!function(){if(o>0)for(let t=0;t<o;t++)s[t]=s.insertAdjacentHTML("beforeend",'<div class="controls-stages__dott"></div>')}(),c(r);let l=document.querySelector(".participants__body"),d=document.querySelector(".participants__row"),u=document.querySelectorAll(".participants__column").length,m=document.querySelector(".controls-participants__pagination-current"),p=document.querySelector(".controls-participants__pagination-total>span"),f=document.querySelector(".controls-participants__arrow-right"),_=document.querySelector(".controls-participants__arrow-left"),g=0;g=window.innerWidth<640?g=1:window.innerWidth>640&&window.innerWidth<991?g=2:window.innerWidth>992?g=3:"";let y=Math.ceil(u/g),h=0;function w(e,n,r){0==n&&(a.classList.add("arrow-right_black"),i.classList.remove("arrow-left_black")),n>0&&n<r&&(i.classList.add("arrow-left_black"),a.classList.add("arrow-right_black")),e==t&&n==r-1&&a.classList.remove("arrow-right_black"),e==t&&1==r&&(a.classList.remove("arrow-right_black"),i.classList.remove("arrow-left_black")),e==l&&1==r&&(f.classList.remove("arrow-right_black"),_.classList.remove("arrow-left_black"))}function b(t,e,n,r){r==l&&(p.innerHTML=n,e>1&&t<e-1&&(m.innerHTML=t*g+g),t==e-1&&(m.innerHTML=n))}function A(e,n,r,o,s){e>=0&&e<n&&b(++e,n,r,o),e==n&&(b(++e,n,r,o),o==t&&(e=n-1)),e>n&&b(e=0,n,r,o),S(e,o,s)}function L(e,n,r,o,s){e>=0&&e<=n&&(o==t&&0==e&&(e=1),--e<=-1?(e=n-1,m.innerHTML=r):b(e,n,r,o)),S(e,o,s)}function S(e,n,s){let a=n.offsetWidth+20;s.style.transform=`translateX(${-e*a}px)`,n==l?h=e:n==t&&(r=e),n==l&&(h=e),n==t&&(r=e,c(r),w(t,e,o))}t&&w(t,r,o),l&&w(l,h,y),b(h,y,u,l),setInterval((()=>{A(h,y,u,l,d)}),4e3);const q=document.querySelector(".main");if(q){document.querySelector(".main-content");const k=document.querySelector(".main-wrapper__sun"),v=document.querySelector(".main-wrapper__city"),x=document.querySelector(".main-wrapper__chess-behind"),I=document.querySelector(".main-wrapper__chess-front"),T=3,$=50,W=20,M=50,H=.05;let B=0,C=0,E=0,P=0;function X(){B+=(E-B)*H,C+=(P-C)*H,k.style.cssText=`transform: translate(${B/T}%,${C/T}%);`,v.style.cssText+=`transform: translate(${B/$}%,${C/$}%);`,x.style.cssText+=`transform: translate(${B/W}%,${C/W}%);`,I.style.cssText+=`transform: translate(${B/M}%,${C/M}%);`,requestAnimationFrame(X)}X(),q.addEventListener("mousemove",(function(t){const e=q.offsetWidth,n=q.offsetHeight,r=t.pageX-e/2,o=t.pageY-n/2;E=r/e*100,P=o/n*100}))}}})();